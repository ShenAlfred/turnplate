<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <title>Document</title>
    <link rel="stylesheet" href="./styles/commond.css">
    <link rel="stylesheet" href="./styles/checkin_a.css">
    <link rel="stylesheet" href="./styles/turn.css">
</head>
<body class="xy">
    <div class="warp">
        <img src="./image/checkin_a/chahua.png" class="chahua" />  
        <a href="javascript:;" class="help"></a>
        <img src="./image/checkin_a/title.png" class="ci-ti" />
        <div class="ci-accumulate">
            <div class="tb">
                <div class="tb-cell">
                    <div class="wdpt">
                        <span class="accumulate-num">3</span>
                        天
                    </div>
                    <div class="accumulate-type">累积签到</div>
                </div>
            </div>
        </div>
        <div class="chw">
            <div class="checkin_wap">
                <div class="ca-head"></div>
                <div class="in-b">
                    <div id="cr-day-s" class="cr-day-s">
                        <div class="offset-warp">
                            <div class="circle-day active">
                                <div class="cd-inner">
                                    <div class="cd-tn">
                                            <div>第一天</div>
                                    </div>
                                </div>
                            </div>
                            <div class="circle-day active">
                                <div class="cd-inner">
                                    <div class="cd-tn">
                                            <div>15元话费</div>
                                    </div>
                                </div>
                                <i class="gift-icon"></i>
                            </div>
                            <div class="circle-day active">
                                <div class="cd-inner">
                                    <div class="cd-tn">
                                            <div>第三天</div>
                                    </div>
                                </div>
                            </div>
                            <div class="circle-day">
                                <div class="cd-inner">
                                    <div class="cd-tn">
                                            <div>第四天</div>
                                    </div>
                                </div>
                            </div>
                            <div class="circle-day">
                                <div class="cd-inner">
                                    <div class="cd-tn">
                                            <div>15元话费</div>
                                    </div>
                                </div>
                            </div>
                            <div class="circle-day">
                                <div class="cd-inner">
                                    <div class="cd-tn">
                                            <div>第六天</div>
                                    </div>
                                </div>
                            </div>
                            <div class="circle-day">
                                <div class="cd-inner">
                                    <div class="cd-tn">
                                            <div>第七天</div>
                                    </div>
                                </div>
                            </div>
                            <div class="circle-day">
                                <div class="cd-inner">
                                    <div class="cd-tn">
                                            <div>第八天</div>
                                    </div>
                                </div>
                            </div>
                            <div class="circle-day">
                                <div class="cd-inner">
                                    <div class="cd-tn">
                                            <div>第九天</div>
                                    </div>
                                </div>
                            </div>
                            <div class="circle-day">
                                <div class="cd-inner">
                                    <div class="cd-tn">
                                            <div>第十天</div>
                                    </div>
                                </div>
                            </div>
                            <div class="circle-day">
                                <div class="cd-inner">
                                    <div class="cd-tn">
                                            <div>第十一天</div>
                                    </div>
                                </div>
                            </div>
                            <div class="circle-day">
                                <div class="cd-inner">
                                    <div class="cd-tn">
                                            <div>15元话费</div>
                                    </div>
                                </div>
                            </div>
                            <div class="circle-day">
                                <div class="cd-inner">
                                    <div class="cd-tn">
                                            <div>第十三天</div>
                                    </div>
                                </div>
                            </div>
                            <div class="circle-day">
                                <div class="cd-inner">
                                    <div class="cd-tn">
                                            <div>15元话费</div>
                                    </div>
                                </div>
                            </div>
                            <div class="circle-day">
                                <div class="cd-inner">
                                        <div class="cd-tn">
                                                <div>第十五天</div>
                                        </div>
                                    </div>
                            </div>
                            <div class="circle-day">
                                <div class="cd-inner">
                                    <div class="cd-tn">
                                            <div>第十六天</div>
                                    </div>
                                </div>
                            </div>
                                <div class="circle-day">
                                    <div class="cd-inner">
                                            <div class="cd-tn">
                                                    <div>第十七天</div>
                                            </div>
                                        </div>
                                </div>
                                <div class="circle-day">
                                    <div class="cd-inner">
                                        <div class="cd-tn">
                                                <div>第十八天</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="circle-day">
                                    <div class="cd-inner">
                                            <div class="cd-tn">
                                                    <div>第十九天</div>
                                            </div>
                                        </div>
                                </div>
                                <div class="circle-day">
                                    <div class="cd-inner">
                                        <div class="cd-tn">
                                                <div>第二十天</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="circle-day">
                                    <div class="cd-inner">
                                            <div class="cd-tn">
                                                    <div>第二十一天</div>
                                            </div>
                                        </div>
                                </div>
                                <div class="circle-day">
                                    <div class="cd-inner">
                                        <div class="cd-tn">
                                                <div>第<br />二十二<br/>天</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="circle-day">
                                        <div class="cd-inner">
                                                <div class="cd-tn">
                                                        <div>第二十三天</div>
                                                </div>
                                            </div>
                                    </div>
                                    <div class="circle-day">
                                        <div class="cd-inner">
                                            <div class="cd-tn">
                                                    <div>第二十四天</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="circle-day">
                                            <div class="cd-inner">
                                                    <div class="cd-tn">
                                                            <div>第二十五天</div>
                                                    </div>
                                                </div>
                                        </div>
                                    <div class="circle-day">
                                        <div class="cd-inner">
                                            <div class="cd-tn">
                                                    <div>第二十六天</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="checkin-area">
            <div class="checkin-success-tip"></div>
            <a href="javascript:;" class="checkin-btn"></a>
        </div>
    </div>

    <!-- 抽奖弹窗 -->
    <div class="turntable-pop" style="display: none;">
        <i class="close"></i>
        <div class="golds pop-show">
            <img src="../image/turnplate/gold3.png" class="gold gold1 animated infinite slow downGoldRain delay-1s" alt="">
            <img src="../image/turnplate/gold3.png" class="gold gold2 animated infinite slower downGoldRain delay-3s" alt="">
            <img src="../image/turnplate/gold3.png" class="gold gold3 animated infinite slower downGoldRain delay-5s" alt="">
            <img src="../image/turnplate/gold4.png" class="gold gold4 animated infinite slow downGoldRain delay-4s" alt="">
            <img src="../image/turnplate/gold3.png" class="gold gold5 animated infinite slower downGoldRain delay-6s" alt="">
            <img src="../image/turnplate/gold2.png" class="gold gold6 animated infinite slow downGoldRain delay-8s" alt="">
            <img src="../image/turnplate/gold1.png" class="gold gold7 animated infinite slower downGoldRain delay-7s" alt="">
            <img src="../image/turnplate/gold2.png" class="gold gold8 animated infinite slower downGoldRain delay-9s" alt="">
            <img src="../image/turnplate/gold1.png" class="gold gold9 animated infinite slow downGoldRain delay-1s" alt="">
            <img src="../image/turnplate/gold2.png" class="gold gold10 animated infinite slower downGoldRain delay-2s" alt="">
        </div>
        <div class="turntable-warp" id="turntable-warp">
            <canvas id="canvas" width="200" height="200"></canvas>
            <img class="turntable_bg" src="../image/turnplate/turntable_bg.png" alt="">
            <div class="chou-btn" id="choujiang"></div>
        </div>
        <div class="yuwi">
            <div class="pt_unenough">
                您已累计签到3天，免费送您抽奖一次
            </div>
        </div>
    </div>

    <!-- 签到成功 -->
    <div class="checkin-pop-warp" style="display: none">
        <div class="checkin-pop">
            <i class="pop-close"></i>
            <div class="cp-content">
                <div class="cp-ine">
                    <img src="./image/checkin_a/qd-success.png" class="qd-suucess" />
                    <div class="cp-txt">签到成功</div>
                </div>
            </div>
        </div>
    </div>

    <!-- 签到所得的奖品 -->
    <div class="checkin-pop-warp lg" style="display: none;">
        <div class="checkin-pop">
            <i class="pop-close"></i>
            <div class="cp-content">
                <div class="cp-ine">
                    <img src="./image/checkin_a/qd-success.png" class="qd-suucess" />
                    <div class="cp-txt">恭喜您获得50元京东卡。</div>
                </div>
            </div>
        </div>
        <div class="ci-pop-msg">
            奖品信息将通过短信发送至您手机，请留意查收哦！
        </div>
    </div>

    <!-- 未中奖 -->
    <div id="np_pop" class="no-prize" style="display: none;"><i id="np_close" class="np-close"></i></div>

    <!-- 中奖了 -->
    <div id="lottery_pop" class="lottery" style="display: none;">
        <img id="lottery-icon" src="" />
        <div>恭喜抽中50元京东卡</div>
        <i id="lottery_close" class="lottery-close"></i>
    </div>


    <div class="shadow" style="display: none;"></div>

    <script src="./js/jquery.js"></script>
    <script src="./js/common.js"></script>
    <script src="./js/awardRotate.js"></script>
    <script src="./js/turntable.js"></script>
    <script>
    
        $(function() {
        
            var _turntable = new turntable();
            _turntable.restaraunts = [{
                activeNo: 's09827',
                activeName: '20积点'
            },{
                activeNo: 's09527',
                activeName: '$600'
            },{
                activeNo: 's029027',
                activeName: '50积点'
            },{
                activeNo: 's096727',
                activeName: '$20'
            },{
                activeNo: 's09927',
                activeName: '谢谢参与'
            },{
                activeNo: 's099927',
                activeName: '¥50话费'
            },{
                activeNo: 's78227',
                activeName: '京东卡'
            },{
                activeNo: 's0198227',
                activeName: '爱奇艺vip'
            },{
                activeNo: 's0998927',
                activeName: '谢谢参与'
            },{
                activeNo: 's0992527',
                activeName: '谢谢参与'
            },{
                activeNo: 's099890927',
                activeName: '谢谢参与'
            },{
                activeNo: 's08927',
                activeName: '谢谢参与'
            },{
                activeNo: 's08927',
                activeName: '谢谢参与'
            },{
                activeNo: 's08927',
                activeName: '谢谢参与'
            },{
                activeNo: 's08927',
                activeName: '谢谢参与'
            },{
                activeNo: 's08927',
                activeName: '谢谢参与'
            }];

            var randomNo = "s099927";
                index = 0;

            _turntable.init();

            $("#choujiang").on('click',function() {
                if(_turntable.bRotate) return;
                _turntable.bRotate = !_turntable.bRotate;
                for(var i=0; i<_turntable.restaraunts.length; i++) {
                    if(randomNo == _turntable.restaraunts[i]['activeNo']) {
                        index = i+1;
                    }
                }
                _turntable.rotateFn(index, _turntable.restaraunts[index-1]);
            });
            

            var max = 14;
            var col = 4;
            var index = Math.ceil(22/col)-1;
            
            
            setTimeout(function() {
                $(".offset-warp").css({
                    top: -(index *  20.648) + "vw"
                });
            });
        
            $("#cr-day-s").scrollTop(Math.abs(parseInt($(".offset-warp").css('top'))));

            $("#cr-day-s").scroll(function() {
                $(".offset-warp").css({
                    top: 0
                })
            });

        });  

    </script>
</body>
</html>